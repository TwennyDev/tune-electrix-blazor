@page
@model ConfirmEmailModel
@{
    ViewData["Title"] = "Confirm email";    
}

<!-- SS 20/3 Modified Identity Confirm Email page -->

<div id="login">
    <div id="imgBox" class="row justify-content-center align-items-center">
        <a href="/"><img src="/img/logo_horizontal_inverted.png" style="width: 300px" /></a>
    </div>
    <div class="container">
        <div id="login-row" class="row justify-content-center align-items-center">
            <div id="login-column" class="col-md-6">
                <div id="login-box" class="col-md-12 p-4">
                    <h3 class="text-center text-info">@ViewData["Title"]</h3>
                    <partial name="_StatusMessage" model="Model.StatusMessage" />

                    <!-- SS 20/3 This adds a button depending on whether the email confirmation was successful or not -->

                    <div class="row justify-content-center align-items-center mt-4">
                        @{
                            if (@Model.Succeeded)
                            {
                                <button class="btn btn-info btn-md" style="background-color: #0cbb36;" onclick="finishConfirm(true);">Go To Login</button>
                            }
                            else
                            {
                                <button class="btn btn-info btn-md" style="background-color: #dc3545;" onclick="finishConfirm(false)">Back To Home</button>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- SS 20/3 JS for handling the redirect button -->
<script>

    function finishConfirm(success) {

        //SS 20/3 If email confirmation was successful the button will take the user to the login page, otherwise back to the homepage
        if (success) {

            window.location.href = "/authentication/login";

        } else {

            window.location.href = "/";

        }

    }

</script>